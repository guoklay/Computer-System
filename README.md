# Computer-System
2024计算机系统实验

IF 段（取指令阶段）的功能为取指令，并控制指令延迟槽和跳转指令。同时确定下一条指令地址。ID段（译码阶段）的功能为对指令进行译码、并调用regfile 模块从通用寄存器读取要使用的通用寄存器的值、以及控制hilo寄存器的读取，并且将回写阶段传回的要写入的寄存器地址，将要写入寄存器的数据写入寄存器，如果指令中含有立即数，则设置采用立即数当作操作数的标识，以及立即数扩展方式的标识，并且选择在执行阶段要用到的ALU，如果是转移指令，判断是否满足转移条件，如果满足转移条件，那么就给出转移目标，作为新的指令地址。EX段（执行阶段）的功能根据译码阶段得到的操作数，以及选择的ALU计算方式，计算出运算结果。如果是与load与store指令相似的指令，那么还会计算出相应的内存地址，并设置与内存数据交互的方式。MEM段（访存阶段）的功能为判断即将要写回寄存器的值是ALU计算的结果还是从内存中读取的结果，并将结果传递到回写阶段。WB段（回写阶段）的理论功能为为把运算结果储存到cpu的32个32位寄存器中。但是为了提高效率，将要写回寄存器的值以及要写回寄存器的地址发给译码阶段，在译码阶段读取寄存器的值的同时，将值写入对应的寄存器。CTRL段的功能为控制流水线的暂停、清除等动作。 
